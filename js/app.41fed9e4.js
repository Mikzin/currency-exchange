(function(){"use strict";var e={698:function(e,t,n){var r=n(9242),a=n(3396);function o(e,t,n,r,o,c){const u=(0,a.up)("the-header"),s=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(u),(0,a.Wm)(s)],64)}function c(e,t){const n=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("header",null,[(0,a._)("nav",null,[(0,a._)("h1",null,[(0,a.Wm)(n,{to:"/"},{default:(0,a.w5)((()=>[(0,a.Uk)("Конвертер валют")])),_:1})]),(0,a._)("ul",null,[(0,a._)("li",null,[(0,a.Wm)(n,{to:"/exchange"},{default:(0,a.w5)((()=>[(0,a.Uk)("Конвертер")])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(n,{to:"/rate"},{default:(0,a.w5)((()=>[(0,a.Uk)("Актуальный курс")])),_:1})])])])])}var u=n(89);const s={},i=(0,u.Z)(s,[["render",c],["__scopeId","data-v-3342a624"]]);var l=i,d={components:{TheHeader:l}};const f=(0,u.Z)(d,[["render",o]]);var p=f,h=n(2483),w=n(7139);const v={class:"currency__container"},_={class:"currency__item"},m=["value"],y={class:"currency__item"},g=["value"],b={class:"currency__update"};function O(e,t,n,o,c,u){const s=(0,a.up)("ion-icon"),i=(0,a.up)("base-button"),l=(0,a.up)("base-card");return(0,a.wg)(),(0,a.iD)("section",null,[(0,a.Wm)(l,null,{default:(0,a.w5)((()=>[(0,a._)("div",v,[(0,a._)("div",_,[(0,a.wy)((0,a._)("select",{name:"currency-first",id:"currency-first",class:"currency__select","onUpdate:modelValue":t[0]||(t[0]=t=>e.$store.state.currencyOne=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.codes,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e,key:e},(0,w.zw)(e),9,m)))),128))],512),[[r.bM,e.$store.state.currencyOne]]),(0,a.wy)((0,a._)("input",{type:"number",name:"input-one",id:"input-one",class:"currency__input","onUpdate:modelValue":t[1]||(t[1]=t=>e.$store.state.amountOne=t),onKeydown:t[2]||(t[2]=(0,r.D2)((e=>u.fetchRate()),["enter"]))},null,544),[[r.nr,e.$store.state.amountOne]])]),(0,a.Wm)(i,{onClick:u.switchValues},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{name:"repeat-outline",class:"reverse-icon"})])),_:1},8,["onClick"]),(0,a._)("div",y,[(0,a.wy)((0,a._)("select",{name:"currency-first",id:"currency-first",class:"currency__select","onUpdate:modelValue":t[3]||(t[3]=t=>e.$store.state.currencyTwo=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.codes,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e,key:e},(0,w.zw)(e),9,g)))),128))],512),[[r.bM,e.$store.state.currencyTwo]]),(0,a.wy)((0,a._)("input",{type:"number",name:"input-two",id:"input-two",class:"currency__input",placeholder:"0",disabled:"","onUpdate:modelValue":t[4]||(t[4]=t=>e.$store.state.amountTwo=t)},null,512),[[r.nr,e.$store.state.amountTwo]])]),(0,a._)("h4",b," Обновление курса: "+(0,w.zw)(e.$store.state.data.time_last_update_utc),1)])])),_:1})])}var $={methods:{setValue(){this.$store.commit("setValue")},fetchRate(){this.$store.dispatch("fetchRate")},switchValues(){this.$store.commit("switchValues"),this.fetchRate()}},mounted(){this.setValue(),this.fetchRate()}};const T=(0,u.Z)($,[["render",O],["__scopeId","data-v-7dbf2656"]]);var U=T;function k(e,t,n,r,o,c){const u=(0,a.up)("base-card");return(0,a.wg)(),(0,a.j4)(u,null,{default:(0,a.w5)((()=>[(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.dataRate,((t,n)=>((0,a.wg)(),(0,a.iD)("li",{key:t}," 1 "+(0,w.zw)(n)+"="+(0,w.zw)(t)+" "+(0,w.zw)(e.$store.state.currencyOne),1)))),128))])])),_:1})}var R={methods:{fetchRateToBase(){this.$store.dispatch("fetchRateToBase")}},created(){this.fetchRateToBase()}};const D=(0,u.Z)(R,[["render",k],["__scopeId","data-v-58ada649"]]);var V=D;function x(e,t){const n=(0,a.up)("router-link"),r=(0,a.up)("base-card");return(0,a.wg)(),(0,a.j4)(r,null,{default:(0,a.w5)((()=>[(0,a._)("h2",null,[(0,a.Uk)(" Страница не найдена. Перейти на "),(0,a.Wm)(n,{to:"/"},{default:(0,a.w5)((()=>[(0,a.Uk)("главную")])),_:1})])])),_:1})}const W={},j=(0,u.Z)(W,[["render",x],["__scopeId","data-v-b86e81f2"]]);var Z=j;const B=(0,h.p7)({routes:[{path:"/",redirect:"/exchange"},{path:"/exchange",component:U},{path:"/rate",component:V},{path:"/:notFound(.*)",component:Z}],history:(0,h.PO)()});var I=B,H=n(65);const z=(0,H.MT)({state(){return{codes:["CZK","EUR","CAD","GBP","HUF","JPY","KZT","NZD","RUB","UAH","USD"],data:[],dataRate:{},currencyOne:"RUB",currencyTwo:"USD",rate:0,amountOne:1,amountTwo:0}},actions:{async fetchRate(e){const t="fa449cedb67a3c6aa44339f9",n=await fetch(`https://v6.exchangerate-api.com/v6/${t}/latest/${e.state.currencyOne}`),r=await n.json();if(!n.ok){const e=new Error(r.message||"Failed to fetch data!");throw e}e.commit("countValue",r)},async fetchRateToBase(e){const t="fa449cedb67a3c6aa44339f9";for(const n of e.state.codes){const r=await fetch(`https://v6.exchangerate-api.com/v6/${t}/pair/${n}/${e.state.currencyOne}`),a=await r.json();if(!r.ok){const e=new Error(a.message||"Failed to fetch data!");throw e}e.state.dataRate[n]=a.conversion_rate,delete e.state.dataRate[e.state.currencyOne]}}},mutations:{setValue(e){let t=navigator.language||navigator.userLanguage;t.includes("ru")?(e.currencyOne="RUB",e.currencyTwo="USD"):(e.currencyOne="USD",e.currencyTwo="RUB")},switchValues(e){const t=e.currencyOne;e.currencyOne=e.currencyTwo,e.currencyTwo=t},countValue(e,t){e.data=t,e.rate=Number(t.conversion_rates[e.currencyTwo]),e.amountTwo=e.amountOne*e.rate.toFixed(2)}},getters:{}});var C=z;const F={class:"card"};function K(e,t){return(0,a.wg)(),(0,a.iD)("div",F,[(0,a.WI)(e.$slots,"default",{},void 0,!0)])}const P={},Y=(0,u.Z)(P,[["render",K],["__scopeId","data-v-005dc651"]]);var E=Y;function M(e,t,n,r,o,c){return(0,a.wg)(),(0,a.iD)("button",null,[(0,a.WI)(e.$slots,"default",{},void 0,!0)])}var S={};const A=(0,u.Z)(S,[["render",M],["__scopeId","data-v-724e00d6"]]);var N=A;const G=(0,r.ri)(p);G.use(I),G.use(C),G.component("base-card",E),G.component("base-button",N),G.mount("#app")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,o){if(!r){var c=1/0;for(l=0;l<e.length;l++){r=e[l][0],a=e[l][1],o=e[l][2];for(var u=!0,s=0;s<r.length;s++)(!1&o||c>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[s])}))?r.splice(s--,1):(u=!1,o<c&&(c=o));if(u){e.splice(l--,1);var i=a();void 0!==i&&(t=i)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[r,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,c=r[0],u=r[1],s=r[2],i=0;if(c.some((function(t){return 0!==e[t]}))){for(a in u)n.o(u,a)&&(n.m[a]=u[a]);if(s)var l=s(n)}for(t&&t(r);i<c.length;i++)o=c[i],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(l)},r=self["webpackChunkcurrency_exchange"]=self["webpackChunkcurrency_exchange"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(698)}));r=n.O(r)})();
//# sourceMappingURL=app.41fed9e4.js.map